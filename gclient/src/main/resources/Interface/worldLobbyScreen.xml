<?xml version="1.0" encoding="UTF-8"?>
<nifty xmlns="http://nifty-gui.lessvoid.com/nifty-gui">

    <useStyles filename="nifty-default-styles.xml" />
    <useControls filename="nifty-default-controls.xml" />

    <screen id="connect" controller="ru.infernoproject.core.gclient.gui.WorldLobbyScreen">
        <layer id="layer" childLayout="center" backgroundImage="Interface/background.jpg">
            <panel childLayout="vertical" align="center" valign="center">
                <panel childLayout="horizontal">
                    <text style="nifty-label" text="Connecting to game server..." width="100%" align="center" textVAlign="center" textHAlign="center"/>
                </panel>
            </panel>
        </layer>
    </screen>

    <screen id="characterList" controller="ru.infernoproject.core.gclient.gui.WorldLobbyScreen">
        <layer id="layer" childLayout="center" backgroundImage="Interface/background.jpg">
            <panel childLayout="vertical" padding="18px,28px,28px,16px" width="35%" height="100%" align="left" valign="top">
                <effect>
                    <onStartScreen name="move" timeType="exp" factor="3.5" direction="left" mode="in" length="500" inherit="true"/>
                    <onEndScreen name="move" timeType="exp" factor="3.5" direction="left" mode="out" length="500" inherit="true"/>
                </effect>
                <panel childLayout="horizontal" align="center">
                    <text style="nifty-label" text="Characters" width="120px" align="left" textVAlign="center" textHAlign="center" />
                </panel>
                <panel childLayout="horizontal" align="center">
                    <control id="characterSelector" name="listBox" horizontal="off" vertical="optional" displayItems="10"/>
                </panel>
                <panel childLayout="horizontal" align="center">
                    <control id="characterCreate" name="button" label="Create Character" align="center">
                        <interact onClick="characterCreateScreen()" />
                    </control>
                    <control id="characterDelete" name="button" label="Delete Character" align="center">
                        <interact onClick="characterDelete()" />
                    </control>
                </panel>
            </panel>

            <panel childLayout="horizontal" align="center" valign="bottom" padding="15px,15px,15px,15px">
                <effect>
                    <onStartScreen name="move" timeType="exp" factor="3.5" direction="bottom" mode="in" length="500" inherit="true"/>
                    <onEndScreen name="move" timeType="exp" factor="3.5" direction="bottom" mode="out" length="500" inherit="true"/>
                </effect>
                <control id="characterSelect" name="button" label="Select Character" align="center">
                    <interact onClick="characterSelect()" />
                </control>
            </panel>
            <panel childLayout="vertical" align="right" valign="bottom" padding="15px,15px,15px,15px">
                <effect>
                    <onStartScreen name="move" timeType="exp" factor="3.5" direction="right" mode="in" length="500" inherit="true"/>
                    <onEndScreen name="move" timeType="exp" factor="3.5" direction="right" mode="out" length="500" inherit="true"/>
                </effect>
                <panel childLayout="horizontal">
                    <control id="exit" name="button" label="Exit" align="center">
                        <interact onClick="exit()"/>
                    </control>
                </panel>
            </panel>
        </layer>
    </screen>

    <screen id="characterCreate" controller="ru.infernoproject.core.gclient.gui.WorldLobbyScreen">
        <layer id="layer" childLayout="center" backgroundImage="Interface/background.jpg">
            <panel childLayout="vertical" align="left" valign="top" width="15%" height="30%" padding="15px,15px,15px,15px">
                <effect>
                    <onStartScreen name="move" timeType="exp" factor="3.5" direction="left" mode="in" length="500" inherit="true"/>
                    <onEndScreen name="move" timeType="exp" factor="3.5" direction="left" mode="out" length="500" inherit="true"/>
                </effect>
                <control id="classSelector" name="listBox" horizontal="off" forceSelection="on" vertical="optional" displayItems="10"/>
                <control id="genderSelector" name="dropDown" forceSelection="on"/>
            </panel>
            <panel childLayout="vertical" align="right" valign="top" width="15%" height="30%" padding="15px,15px,15px,15px">
                <effect>
                    <onStartScreen name="move" timeType="exp" factor="3.5" direction="right" mode="in" length="500" inherit="true"/>
                    <onEndScreen name="move" timeType="exp" factor="3.5" direction="right" mode="out" length="500" inherit="true"/>
                </effect>
                <control id="raceSelector" name="listBox" horizontal="off" forceSelection="on" vertical="optional" displayItems="10"/>
            </panel>
            <panel childLayout="vertical" align="center" valign="bottom" width="25%" height="15%" padding="15px,15px,15px,15px">
                <effect>
                    <onStartScreen name="move" timeType="exp" factor="3.5" direction="bottom" mode="in" length="500" inherit="true"/>
                    <onEndScreen name="move" timeType="exp" factor="3.5" direction="bottom" mode="out" length="500" inherit="true"/>
                </effect>
                <panel childLayout="horizontal">
                    <panel childLayout="vertical">
                        <text style="nifty-label" text="First Name" />
                        <control id="firstName" name="textfield" />
                    </panel>
                    <panel childLayout="vertical">
                        <text style="nifty-label" text="Last Name" />
                        <control id="lastName" name="textfield"  />
                    </panel>
                </panel>
                <panel childLayout="horizontal" align="center">
                    <control id="characterCreate" name="button" label="Create">
                        <interact onClick="characterCreate()" />
                    </control>
                </panel>
            </panel>
            <panel childLayout="vertical" align="right" valign="bottom" width="15%" height="15%" padding="15px,15px,15px,15px">
                <effect>
                    <onStartScreen name="move" timeType="exp" factor="3.5" direction="right" mode="in" length="500" inherit="true"/>
                    <onEndScreen name="move" timeType="exp" factor="3.5" direction="right" mode="out" length="500" inherit="true"/>
                </effect>
                <panel childLayout="horizontal">
                    <control id="back" name="button" label="Back" align="center">
                        <interact onClick="characterListScreen()" />
                    </control>
                </panel>
                <panel childLayout="horizontal">
                    <control id="logOut" name="button" label="Log Out" align="center">
                        <interact onClick="logOut()" />
                    </control>
                </panel>
                <panel childLayout="horizontal">
                    <control id="exit" name="button" label="Exit" align="center">
                        <interact onClick="exit()" />
                    </control>
                </panel>
            </panel>
        </layer>
    </screen>

    <popup id="consolePopup" childLayout="center" backgroundColor="#000a">
        <effect>
            <onStartScreen name="fade" start="#0" end="#a" length="200" inherit="true"/>
            <onEndScreen name="fade" start="#a" end="#0" length="200" startDelay="100" inherit="true"/>
        </effect>
        <panel childLayout="center" width="95%" align="center" valign="center">
            <control id="console" name="nifty-console" lines="35" align="center" valign="center">
                <effect>
                    <onStartScreen name="move" direction="top" mode="in" length="200" startDelay="100" inherit="true"/>
                    <onEndScreen name="move" direction="top" mode="out" length="200" startDelay="0" inherit="true"/>
                </effect>
            </control>
        </panel>
    </popup>

    <popup id="errorPopup" childLayout="center" backgroundColor="#000a">
        <effect>
            <onStartScreen name="fade" start="#0" end="#a" length="200" inherit="true"/>
            <onEndScreen name="fade" start="#a" end="#0" length="200" startDelay="100" inherit="true"/>
        </effect>
        <panel style="nifty-panel" childLayout="vertical" padding="18px,28px,28px,16px" width="30%" height="23%" align="center" valign="center">
            <panel childLayout="horizontal">
                <text style="nifty-label" text="Error" align="center" width="100%"/>
            </panel>
            <panel childLayout="horizontal" height="8px" />
            <panel childLayout="horizontal" id="errorMessage" height="*" valign="center">

            </panel>
            <panel childLayout="horizontal" height="8px" />
            <panel childLayout="horizontal" width="100%" align="center">
                <control id="errorConfirm" name="button" label="OK" align="center">
                    <interact onClick="errorConfirm()" />
                </control>
            </panel>
        </panel>
    </popup>
</nifty>